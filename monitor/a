+ source /data/services/mbtq/var/monitor/service.conf
++ service='
fetchServer
appinfoServer
appstoreServer
countServer
miscServer
privcodeServer
useractServer
useractServer1
useractServer2
'
++ service_handler='
fetchServer:nohup /data/services/mbtq/backend/fetch_server/fetchServer -c /data/services/mbtq/backend/mbtq_servers/conf/fetchServer.conf > /data/services/mbtq/backend/fetch_server/nohup.out 2>&1 &;
appinfoServer:/data/services/mbtq/backend/mbtq_servers/bin/appinfoServer -c /data/services/mbtq/backend/mbtq_servers/conf/appinfoServer.conf;
appstoreServer:/data/services/mbtq/backend/mbtq_servers/bin/appstoreServer -c /data/services/mbtq/backend/mbtq_servers/conf/appstoreServer.conf;
countServer:/data/services/mbtq/backend/mbtq_servers/bin/countServer -c /data/services/mbtq/backend/mbtq_servers/conf/countServer.conf;
miscServer:/data/services/mbtq/backend/mbtq_servers/bin/miscServer -c /data/services/mbtq/backend/mbtq_servers/conf/miscServer.conf;
privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf;
useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;
'
+ source /data/services/mbtq/var/monitor/monitor_library.sh
++ processmonitor fetchServer appinfoServer appstoreServer countServer miscServer privcodeServer useractServer useractServer1 useractServer2
++ local dead_process=
++ local item
++ for item in '$service'
+++ pgrep fetchServer
++ proc=4201
++ '[' 4201x == x ']'
++ for item in '$service'
+++ pgrep appinfoServer
++ proc=3245
++ '[' 3245x == x ']'
++ for item in '$service'
+++ pgrep appstoreServer
++ proc=7258
++ '[' 7258x == x ']'
++ for item in '$service'
+++ pgrep countServer
++ proc=8292
++ '[' 8292x == x ']'
++ for item in '$service'
+++ pgrep miscServer
++ proc=4798
++ '[' 4798x == x ']'
++ for item in '$service'
+++ pgrep privcodeServer
++ proc=4845
++ '[' 4845x == x ']'
++ for item in '$service'
+++ pgrep useractServer
++ proc=8079
++ '[' 8079x == x ']'
++ for item in '$service'
+++ pgrep useractServer1
++ proc=
++ '[' x == x ']'
++ '[' -z ']'
++ dead_process=useractServer1
++ for item in '$service'
+++ pgrep useractServer2
++ proc=
++ '[' x == x ']'
++ '[' -z useractServer1 ']'
++ dead_process='useractServer1 useractServer2'
++ echo useractServer1 useractServer2
+ dead_process_list='useractServer1 useractServer2'
+ echo useractServer1 useractServer2
useractServer1 useractServer2
+ echo ---------------
---------------
+ start_process '
fetchServer:nohup /data/services/mbtq/backend/fetch_server/fetchServer -c /data/services/mbtq/backend/mbtq_servers/conf/fetchServer.conf > /data/services/mbtq/backend/fetch_server/nohup.out 2>&1 &;
appinfoServer:/data/services/mbtq/backend/mbtq_servers/bin/appinfoServer -c /data/services/mbtq/backend/mbtq_servers/conf/appinfoServer.conf;
appstoreServer:/data/services/mbtq/backend/mbtq_servers/bin/appstoreServer -c /data/services/mbtq/backend/mbtq_servers/conf/appstoreServer.conf;
countServer:/data/services/mbtq/backend/mbtq_servers/bin/countServer -c /data/services/mbtq/backend/mbtq_servers/conf/countServer.conf;
miscServer:/data/services/mbtq/backend/mbtq_servers/bin/miscServer -c /data/services/mbtq/backend/mbtq_servers/conf/miscServer.conf;
privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf;
useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;
' ''
+ local 'other_handler=
fetchServer:nohup /data/services/mbtq/backend/fetch_server/fetchServer -c /data/services/mbtq/backend/mbtq_servers/conf/fetchServer.conf > /data/services/mbtq/backend/fetch_server/nohup.out 2>&1 &;
appinfoServer:/data/services/mbtq/backend/mbtq_servers/bin/appinfoServer -c /data/services/mbtq/backend/mbtq_servers/conf/appinfoServer.conf;
appstoreServer:/data/services/mbtq/backend/mbtq_servers/bin/appstoreServer -c /data/services/mbtq/backend/mbtq_servers/conf/appstoreServer.conf;
countServer:/data/services/mbtq/backend/mbtq_servers/bin/countServer -c /data/services/mbtq/backend/mbtq_servers/conf/countServer.conf;
miscServer:/data/services/mbtq/backend/mbtq_servers/bin/miscServer -c /data/services/mbtq/backend/mbtq_servers/conf/miscServer.conf;
privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf;
useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;
'
+ local dead_process_list=
+ local dead_process
++ tr -d '\n'
++ echo fetchServer:nohup /data/services/mbtq/backend/fetch_server/fetchServer -c /data/services/mbtq/backend/mbtq_servers/conf/fetchServer.conf '>' /data/services/mbtq/backend/fetch_server/nohup.out '2>&1' '&;' appinfoServer:/data/services/mbtq/backend/mbtq_servers/bin/appinfoServer -c '/data/services/mbtq/backend/mbtq_servers/conf/appinfoServer.conf;' appstoreServer:/data/services/mbtq/backend/mbtq_servers/bin/appstoreServer -c '/data/services/mbtq/backend/mbtq_servers/conf/appstoreServer.conf;' countServer:/data/services/mbtq/backend/mbtq_servers/bin/countServer -c '/data/services/mbtq/backend/mbtq_servers/conf/countServer.conf;' miscServer:/data/services/mbtq/backend/mbtq_servers/bin/miscServer -c '/data/services/mbtq/backend/mbtq_servers/conf/miscServer.conf;' privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c '/data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf;' useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c '/data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;'
+ other_handler='fetchServer:nohup /data/services/mbtq/backend/fetch_server/fetchServer -c /data/services/mbtq/backend/mbtq_servers/conf/fetchServer.conf > /data/services/mbtq/backend/fetch_server/nohup.out 2>&1 &; appinfoServer:/data/services/mbtq/backend/mbtq_servers/bin/appinfoServer -c /data/services/mbtq/backend/mbtq_servers/conf/appinfoServer.conf; appstoreServer:/data/services/mbtq/backend/mbtq_servers/bin/appstoreServer -c /data/services/mbtq/backend/mbtq_servers/conf/appstoreServer.conf; countServer:/data/services/mbtq/backend/mbtq_servers/bin/countServer -c /data/services/mbtq/backend/mbtq_servers/conf/countServer.conf; miscServer:/data/services/mbtq/backend/mbtq_servers/bin/miscServer -c /data/services/mbtq/backend/mbtq_servers/conf/miscServer.conf; privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf; useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;'
+ for dead_process in dead_process_list
+ '[' dead_process_listx '!=' x ']'
+ '[' 'fetchServer:nohup /data/services/mbtq/backend/fetch_server/fetchServer -c /data/services/mbtq/backend/mbtq_servers/conf/fetchServer.conf > /data/services/mbtq/backend/fetch_server/nohup.out 2>&1 &; appinfoServer:/data/services/mbtq/backend/mbtq_servers/bin/appinfoServer -c /data/services/mbtq/backend/mbtq_servers/conf/appinfoServer.conf; appstoreServer:/data/services/mbtq/backend/mbtq_servers/bin/appstoreServer -c /data/services/mbtq/backend/mbtq_servers/conf/appstoreServer.conf; countServer:/data/services/mbtq/backend/mbtq_servers/bin/countServer -c /data/services/mbtq/backend/mbtq_servers/conf/countServer.conf; miscServer:/data/services/mbtq/backend/mbtq_servers/bin/miscServer -c /data/services/mbtq/backend/mbtq_servers/conf/miscServer.conf; privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf; useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;x' '!=' x ']'
+ one_handler='fetchServer:nohup /data/services/mbtq/backend/fetch_server/fetchServer -c /data/services/mbtq/backend/mbtq_servers/conf/fetchServer.conf > /data/services/mbtq/backend/fetch_server/nohup.out 2>&1 &'
+ other_handler=' appinfoServer:/data/services/mbtq/backend/mbtq_servers/bin/appinfoServer -c /data/services/mbtq/backend/mbtq_servers/conf/appinfoServer.conf; appstoreServer:/data/services/mbtq/backend/mbtq_servers/bin/appstoreServer -c /data/services/mbtq/backend/mbtq_servers/conf/appstoreServer.conf; countServer:/data/services/mbtq/backend/mbtq_servers/bin/countServer -c /data/services/mbtq/backend/mbtq_servers/conf/countServer.conf; miscServer:/data/services/mbtq/backend/mbtq_servers/bin/miscServer -c /data/services/mbtq/backend/mbtq_servers/conf/miscServer.conf; privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf; useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;'
++ echo fetchServer
++ tr -d '[:space:]'
+ process_name=fetchServer
+ '[' dead_process_listx == fetchServerx ']'
+ '[' ' appinfoServer:/data/services/mbtq/backend/mbtq_servers/bin/appinfoServer -c /data/services/mbtq/backend/mbtq_servers/conf/appinfoServer.conf; appstoreServer:/data/services/mbtq/backend/mbtq_servers/bin/appstoreServer -c /data/services/mbtq/backend/mbtq_servers/conf/appstoreServer.conf; countServer:/data/services/mbtq/backend/mbtq_servers/bin/countServer -c /data/services/mbtq/backend/mbtq_servers/conf/countServer.conf; miscServer:/data/services/mbtq/backend/mbtq_servers/bin/miscServer -c /data/services/mbtq/backend/mbtq_servers/conf/miscServer.conf; privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf; useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;x' '!=' x ']'
+ one_handler=' appinfoServer:/data/services/mbtq/backend/mbtq_servers/bin/appinfoServer -c /data/services/mbtq/backend/mbtq_servers/conf/appinfoServer.conf'
+ other_handler=' appstoreServer:/data/services/mbtq/backend/mbtq_servers/bin/appstoreServer -c /data/services/mbtq/backend/mbtq_servers/conf/appstoreServer.conf; countServer:/data/services/mbtq/backend/mbtq_servers/bin/countServer -c /data/services/mbtq/backend/mbtq_servers/conf/countServer.conf; miscServer:/data/services/mbtq/backend/mbtq_servers/bin/miscServer -c /data/services/mbtq/backend/mbtq_servers/conf/miscServer.conf; privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf; useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;'
++ echo appinfoServer
++ tr -d '[:space:]'
+ process_name=appinfoServer
+ '[' dead_process_listx == appinfoServerx ']'
+ '[' ' appstoreServer:/data/services/mbtq/backend/mbtq_servers/bin/appstoreServer -c /data/services/mbtq/backend/mbtq_servers/conf/appstoreServer.conf; countServer:/data/services/mbtq/backend/mbtq_servers/bin/countServer -c /data/services/mbtq/backend/mbtq_servers/conf/countServer.conf; miscServer:/data/services/mbtq/backend/mbtq_servers/bin/miscServer -c /data/services/mbtq/backend/mbtq_servers/conf/miscServer.conf; privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf; useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;x' '!=' x ']'
+ one_handler=' appstoreServer:/data/services/mbtq/backend/mbtq_servers/bin/appstoreServer -c /data/services/mbtq/backend/mbtq_servers/conf/appstoreServer.conf'
+ other_handler=' countServer:/data/services/mbtq/backend/mbtq_servers/bin/countServer -c /data/services/mbtq/backend/mbtq_servers/conf/countServer.conf; miscServer:/data/services/mbtq/backend/mbtq_servers/bin/miscServer -c /data/services/mbtq/backend/mbtq_servers/conf/miscServer.conf; privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf; useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;'
++ echo appstoreServer
++ tr -d '[:space:]'
+ process_name=appstoreServer
+ '[' dead_process_listx == appstoreServerx ']'
+ '[' ' countServer:/data/services/mbtq/backend/mbtq_servers/bin/countServer -c /data/services/mbtq/backend/mbtq_servers/conf/countServer.conf; miscServer:/data/services/mbtq/backend/mbtq_servers/bin/miscServer -c /data/services/mbtq/backend/mbtq_servers/conf/miscServer.conf; privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf; useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;x' '!=' x ']'
+ one_handler=' countServer:/data/services/mbtq/backend/mbtq_servers/bin/countServer -c /data/services/mbtq/backend/mbtq_servers/conf/countServer.conf'
+ other_handler=' miscServer:/data/services/mbtq/backend/mbtq_servers/bin/miscServer -c /data/services/mbtq/backend/mbtq_servers/conf/miscServer.conf; privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf; useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;'
++ tr -d '[:space:]'
++ echo countServer
+ process_name=countServer
+ '[' dead_process_listx == countServerx ']'
+ '[' ' miscServer:/data/services/mbtq/backend/mbtq_servers/bin/miscServer -c /data/services/mbtq/backend/mbtq_servers/conf/miscServer.conf; privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf; useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;x' '!=' x ']'
+ one_handler=' miscServer:/data/services/mbtq/backend/mbtq_servers/bin/miscServer -c /data/services/mbtq/backend/mbtq_servers/conf/miscServer.conf'
+ other_handler=' privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf; useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;'
++ echo miscServer
++ tr -d '[:space:]'
+ process_name=miscServer
+ '[' dead_process_listx == miscServerx ']'
+ '[' ' privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf; useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;x' '!=' x ']'
+ one_handler=' privcodeServer:/data/services/mbtq/backend/mbtq_servers/bin/privcodeServer -c /data/services/mbtq/backend/mbtq_servers/conf/privcodeServer.conf'
+ other_handler=' useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;'
++ echo privcodeServer
++ tr -d '[:space:]'
+ process_name=privcodeServer
+ '[' dead_process_listx == privcodeServerx ']'
+ '[' ' useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf;x' '!=' x ']'
+ one_handler=' useractServer:/data/services/mbtq/backend/mbtq_servers/bin/useractServer -c /data/services/mbtq/backend/mbtq_servers/conf/useractServer.conf'
+ other_handler=
++ tr -d '[:space:]'
++ echo useractServer
+ process_name=useractServer
+ '[' dead_process_listx == useractServerx ']'
+ '[' x '!=' x ']'
